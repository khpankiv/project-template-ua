// ==================================================
// ======= Form and Inputs Styles ===================
// ==================================================

// Base checkbox styling using variables
input[type="checkbox"] {
	accent-color: $checkbox-bg-color-checked;
	border-radius: $radius-s;
	
	&:checked {
		background-color: $checkbox-bg-color-checked;
		border-color: $checkbox-bg-color-checked;
	}
}

// Disable browser autocomplete styling
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
	-webkit-box-shadow: 0 0 0 30px $pure-white inset !important;
	-webkit-text-fill-color: $text-color !important;
}

// =============Universlal Form Styles==================
form {
	display: flex;
	flex-direction: column;
	gap: $space-md;
	// padding: $space-lg;
	width: 100%;
	justify-content: space-between;
	text-align: start;
	font-size: $font-size-xs;

	h4 {
		font-size: $font-size-sm;
		font-weight: $font-weight-bold;
	}

	.form-group {
		display: flex;
		flex-direction: column;
		gap: $space-xs;
	}
		
	.form-line-group {
		display: flex;
		flex-direction: row;
		align-items: center;
		justify-content: space-between;
		width: 100%;
		margin: $space-sm 0;
		
		// Checkbox container (left side)
		label.checkbox-container {
			display: flex;
			flex-direction: row;
			align-items: center;
			gap: $space-xs;
			cursor: pointer;
			font-size: $font-size-xs;
			font-weight: $font-weight-normal;
			flex-shrink: 0;
			margin: 0;
			padding: 0;

			input[type="checkbox"] {
				margin: 0;
				width: auto;
				flex-shrink: 0;
			}

			.checkmark {
				user-select: none;
				white-space: nowrap;
			}
		}

		// "Forgot Password" link (right side)
		.forgot {
			flex-shrink: 0;
			
			a {
				color: $accent-pink;
				text-decoration: none;
				font-size: $font-size-xs;
				white-space: nowrap;
				
				&:hover {
					text-decoration: underline;
				}
			}
		}
	}

// Additional specificity styles for checkbox in login form
#login-form .form-line-group {
	display: flex;
	flex-direction: row;
	
	label.checkbox-container {
		display: flex;
		flex-direction: row;
	}
}

	.button-submit {
		@include button ('btn-base');
		width: auto;
	}
}

.password-wrapper {
		position: relative;
		display: flex;
		align-items: center;
		
		input {
			padding-right: $space-3xl;
		}
		
		.password-toggle {
			position: absolute;
			right: $space-sm;
			background: none;
			border: none;
			cursor: pointer;
			padding: $space-xs;
			color: $grey;
			font-size: $input-font-size;
			transition: color $animation-fast;
		}
}

label {
	font-size: $font-size-sm;
	font-weight: $font-weight-bold;
	display: block;

	// Exception for checkbox container
	&.checkbox-container {
		display: flex;
		flex-direction: row;
		align-items: center;
		font-weight: $font-weight-normal;
		font-size: $font-size-xs;
	}
}

textarea {
		resize: vertical;
		min-height: $min-height-textinput;
}

.form-checkbox-row {
	display: flex;
	align-items: flex-start;
	gap: $space-sm;
	margin: $space-lg 0;

	input[type="checkbox"] {
		@include checkbox-round($checkbox-size, 'square');
		margin-top: 2px; // Align with first line of text
		flex-shrink: 0;
	}

	p {
		margin: 0;
		font-size: $font-size-sm;
		color: $text-color;
		line-height: $line-height-base;
	}
}

// Form field container for proper notification positioning
.form-group {
	position: relative;
	margin-bottom: $space-lg;
}

input,
textarea {
	@include input-styles($border-color:$accent-pink);
	
	// Validation styles
	&.error {
		border-color: $error-color;
		background-color: rgba($error-color, 0.05);
	}
	
	&.valid {
		border-color: $success-color;
		background-color: rgba($success-color, 0.05);
	}
}
   
// ==================================================================
// Filters Fields
// ==================================================================
.filter-dropdown {
	cursor: pointer;
	@include compact-input-styles();

	.filter-btn {
		display: flex;
		align-items: center;
		justify-content: space-between; 
		width: 100%;
		height: 100%;
		background: transparent;
		border: none;
		text-align: left;
		font-size: $input-font-size;
		font-weight: $font-weight-normal;
		line-height: $line-height-single;
		color: $text-color;
		padding: 0 $space-lg;
		font-family: 'Montserrat', Arial, sans-serif;
	}

			.filter-options {
				display: none;
				cursor: pointer;
				position: absolute;
				top: 100%;
				left: 0;
				background: $pure-white;
				border: $border solid $grey-light;
				width: 100%;
				z-index: $z-filter-dropdown;
			}

			&:hover .filter-options,
			&.open .filter-options {
				display: block;
			}

			&.closed .filter-options {
				display: none;
			}

			.filter-option {
				display: block;
				padding: $space-md $space-lg;    
				@include hover-effect('dropdown-option');       
				@include selected-effect('dropdown-option');
				font-size: $input-font-size;
				font-weight: $font-weight-normal;
				line-height: $line-height-single;
				color: $input-text-color;
			}
}
// ==================================================================
// Sorting
// ==================================================================
.sort-dropdown {
	cursor: pointer;
	@include compact-input-styles();
	min-width: 200px;
	width: auto;
	position: relative;
	
	.sort-btn {
		display: flex;
		align-items: center;
		justify-content: space-between;
		width: 100%;
		height: 100%;
		background: transparent;
		border: none;
		text-align: left;
		font-size: $input-font-size;
		font-weight: $font-weight-normal;
		line-height: $line-height-single;
		color: $text-color;
		padding: 0 $space-lg;
		font-family: 'Montserrat', Arial, sans-serif;
	}
	
	.sort-options {
		display: none;
		cursor: pointer;
		position: absolute;
		top: 100%;
		left: 0;
		background: $checkbox-bg-color;
		border: $border solid $checkbox-border-color;
		width: 100%;
		z-index: $z-filter-dropdown;
		margin: 0;
		padding: 0;
		
		li {
			list-style: none;
			display: block;
			padding: $space-md $space-lg;
			@include hover-effect('dropdown-option');
			@include selected-effect('dropdown-option');
			font-size: $input-font-size;
			font-weight: $font-weight-normal;
			line-height: $line-height-single;
			color: $input-text-color;
			border-bottom: 1px solid $checkbox-border-color;
			
			&:last-child {
				border-bottom: none;
			}
		}
	}
	
	&:hover .sort-options,
	&.open .sort-options {
		display: block;
	}
	
	&.closed .sort-options {
		display: none;
	}
}

// ==================================================================
// Search
// ==================================================================
.search-field {
	@include compact-input-styles();
	display: flex;
	align-items: center;
	position: relative;
	height: $input-height;
	
	.catalog-search {
		width: 100%;
		height: 100%;
		padding: 0;
		padding-right: $space-3xl;
		padding-left: $space-lg;
		border: none;
		outline: none;
		background: transparent;
		font-size: $input-font-size;
		font-family: 'Montserrat', Arial, sans-serif;
		font-weight: $font-weight-normal;
		color: $text-color;
		line-height: $line-height-single;

		&::placeholder {
			color: $input-text-color;
			font-size: $input-font-size;
		}
	}
	
	&:focus-within {
		border-color: $grey-light;
	}
	
	.search-icon {
			position: absolute;
			right: $space-md;
			top: 50%;
			transform: translateY(-50%);
			display: flex;
			align-items: center;
			pointer-events: auto;
			
			img {
				cursor: pointer;
				@include hover-effect('search-icon');
			}
		}
}

// ==================================================================
// =============Modal styles ========================================
// ==================================================================
	.modal {
			@include modal-backdrop;
			@include fadeIn;
	}
	
	.modal-content {

			@include modal-content;
			@include slideDown;
	}
    
	.modal-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: $space-lg;
		border-bottom: $border solid $grey-extra-light;
		background: $accent-pink-light;
		
		h2 {
			font-size: $font-size-lg;
			font-weight: $font-weight-bold;
		}
			
		.close {
			background: none;
			border: none;
			font-size: $font-size-xl;
			font-weight: bold;
			color: $grey;
			cursor: pointer;
			padding: 0;
			line-height: 1;
			transition: color $animation-fast;
				
			&:hover {
				color: $accent-pink;
			}
		}
	}

	#login-form {
		@extend form;
		padding: $space-2xl;
	}

	.form-grid {
		display: grid;
		width: 100%;
		grid-template-columns: 1fr 1fr;
		// gap: $space-lg;
		font-size: $font-size-sm;
		// color: $grey;

		.review-textarea {
			grid-column: span 2;
		}
	}

	#login-button {
		@extend .button;
		width: 100%;
	}

	#review-form {
		@extend form;
	}

	#contact-form {
		@extend form;
		height: 100%;
		justify-content: space-between;
		padding: 0 $space-xl;
		margin: 0;
	
		.form-group {
			gap: $space-xs;
			margin-bottom: $space-sm;
		}
	
		.form-title {
			margin: $space-md 0;
			font-size: $font-size-lg;
		}
	
		p {
			margin: 0 0 $space-md 0;
		}
		
		textarea {
			min-height: 100px;
			resize: vertical;
		}
		
		.button-submit {
			margin: $space-md 0 0 0;
		}
	}

	// Contact page layout (offer-2-section)
	.offer-2-section {
		display: flex;
		align-items: stretch;
		position: relative;
		gap: 0;
		
		.offer-banner {
			flex: 1;
			@include banner('/src/assets/images/news/hero-contact.png');
		}
		
		.review-form {
			flex: 1;
			display: flex;
			flex-direction: column;
		}

		@media (max-width: 768px) {
			flex-direction: column;
			margin-top: $space-xl;
			margin-left: $space-lg;
			margin-right: $space-lg;
			gap: $space-lg;
			min-height: auto;
		}
	}

	
// ==================================================================
// Notification styles
// ==================================================================

// Inline notifications (for forms) - positioned below the field
.notification {
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  transform: translateY($space-xs);
  background: $error-color;
  color: $pure-white;
  padding: $space-sm $space-md;
  border-radius: $radius-s;
  font-size: $font-size-sm;
  font-weight: $font-weight-medium;
  z-index: $z-notification;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  animation: slideInDown $animation-medium $animation-ease;

  &.success { background: $success-color; }
  &.info    { background: $info-color; }
  &.error   { background: $error-color; }
  &.warning { background: #f39c12; }
}

// Global popup notifications
.popup-notification {
  position: fixed;
  top: $space-xl;
  right: $space-xl;
  background: $pure-white;
  border-left: 6px solid $accent-pink;
  padding: $space-xl $space-xxl;
  border-radius: $radius-l;
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.25);
  z-index: $z-modal;
  min-width: 350px;
  max-width: 480px;
  transform: translateX(100%);
  opacity: 0;
  transition: all $animation-medium $animation-ease;

  &.show {
    transform: translateX(0);
    opacity: 1;
  }

  &.success {
    border-left-color: $success-color;
    .popup-icon { color: $success-color; }
  }

  &.error {
    border-left-color: $error-color;
    .popup-icon { color: $error-color; }
  }

  &.warning {
    border-left-color: #f39c12;
    .popup-icon { color: #f39c12; }
  }

  &.info {
    border-left-color: $info-color;
    .popup-icon { color: $info-color; }
  }

  .popup-content {
    display: flex;
    align-items: center;
    gap: $space-md;

    .popup-icon {
      font-size: $font-size-lg;
      flex-shrink: 0;
    }

    .popup-text {
      .popup-title {
        font-weight: $font-weight-bold;
        font-size: $font-size-sm;
        color: $text-color;
        margin-bottom: $space-xs;
      }

      .popup-message {
        font-size: $font-size-xs;
        color: $grey;
        line-height: $line-height-base;
      }
    }
  }

  .popup-close {
    position: absolute;
    top: $space-sm;
    right: $space-sm;
    background: none;
    border: none;
    font-size: $font-size-md;
    color: $grey;
    cursor: pointer;
    padding: $space-xs;
    line-height: 1;
    
    &:hover {
      color: $accent-pink;
    }
  }
}

// Toast notifications - quick notifications at bottom center
.toast-notification {
  position: fixed;
  bottom: $space-xl;
  left: 50%;
  transform: translateX(-50%) translateY(100%);
  background: $grey-dark;
  color: $pure-white;
  padding: $space-lg $space-xl;
  border-radius: $radius-m;
  font-size: $font-size-md;
  font-weight: $font-weight-bold;
  z-index: $z-modal;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  min-width: 300px;
  text-align: center;
  transition: transform $animation-medium $animation-ease;

  &.show {
    transform: translateX(-50%) translateY(0);
  }

  &.success { background: $success-color; }
  &.error { background: $error-color; }
  &.warning { background: #f39c12; }
  &.info { background: $info-color; }
}

// ==================Custom Checkboxes=========================
.custom-checkbox {
	position: relative;
	display: inline-block;
	
	// Hide default checkbox
	input[type="checkbox"] {
		position: absolute;
		opacity: 0;
		width: 0;
		height: 0;
		pointer-events: none;
	}
	
	.checkbox-label {
		display: flex;
		align-items: center;
		cursor: pointer;
		user-select: none;
	}
	
	.checkbox-custom {
		position: relative;
		width: 24px;
		height: 24px;
		border: 2px solid $grey-light;
		border-radius: 50%; // Round checkbox
		background: $pure-white;
		transition: all $animation-medium $animation-ease;
		display: flex;
		align-items: center;
		justify-content: center;
		
		// Gray center dot (always visible)
		&::before {
			content: '';
			width: 8px;
			height: 8px;
			background: $grey-light;
			border-radius: 50%;
			transition: all $animation-medium $animation-ease;
		}
		
		// Pink checkmark (visible when checked)
		&::after {
			content: '';
			position: absolute;
			width: 8px;
			height: 8px;
			background: $accent-pink;
			border-radius: 50%;
			opacity: 0;
			transform: scale(0);
			transition: all $animation-medium $animation-ease;
		}
	}
	
	// Checked state
	input[type="checkbox"]:checked + .checkbox-label .checkbox-custom {
		border-color: $accent-pink;
		background: $pure-white;
		
		&::before {
			background: transparent; // Hide gray dot
		}
		
		&::after {
			opacity: 1;
			transform: scale(1); // Show pink dot
		}
	}
	
	// Hover state
	.checkbox-label:hover .checkbox-custom {
		border-color: $accent-pink;
		box-shadow: 0 0 0 2px rgba($accent-pink, 0.1);
	}
	
	// Focus state for accessibility
	input[type="checkbox"]:focus + .checkbox-label .checkbox-custom {
		outline: 2px solid rgba($accent-pink, 0.5);
		outline-offset: 2px;
	}
	
	// Disabled state
	input[type="checkbox"]:disabled + .checkbox-label {
		cursor: not-allowed;
		opacity: 0.6;
		
		.checkbox-custom {
			background: $grey-extra-light;
			border-color: $grey-light;
		}
	}
}

// ==================Floating Labels=========================
.floating-input-group {
  position: relative;
  margin-bottom: $space-lg;
  
  .floating-input {
    width: 100%;
    padding: 20px 12px 8px 12px;
    font-size: $font-size-md;
    font-family: inherit;
    border: 2px solid $grey-light;
    border-radius: 0;
    background: $pure-white;
    color: $text-color;
    transition: all $animation-medium $animation-ease;
    outline: none;
    resize: vertical;
    position: relative;
    z-index: 1;
    
    &:focus {
      border-color: $grey;
      box-shadow: 0 0 0 2px rgba($grey, 0.1);
      z-index: 1;
      
      + .floating-label {
        color: $grey !important;
        
        .required-star {
          color: $accent-pink;
        }
      }
    }
    
    // When input has focus or content, move label up
    &:focus + .floating-label,
    &:not(:placeholder-shown) + .floating-label,
    &.has-value + .floating-label {
      transform: translateY(-12px) scale(0.85);
      color: $grey !important;
      background: $pure-white;
      padding: 0 4px;
      z-index: 3;
      
      .required-star {
        color: $accent-pink;
      }
    }
    
    // Textarea specific styles
    &[type="textarea"] {
      min-height: 120px;
      font-family: inherit;
      line-height: $line-height-base;
      padding-top: 24px;
    }
  }
  
  textarea {
    min-height: 120px;
    font-family: inherit;
    line-height: $line-height-base;
    padding-top: 24px;
  }
  
  .floating-label {
    position: absolute;
    left: 12px;
    top: 18px;
    font-size: $font-size-md;
    color: $grey !important;
    font-weight: $font-weight-normal;
    pointer-events: none;
    transition: all $animation-medium $animation-ease;
    transform-origin: left center;
    z-index: 3;
    background: $pure-white;
    
    .required-star {
      color: $accent-pink;
      font-weight: $font-weight-bold;
      margin-left: 2px;
    }
  }
  
  // Error states
  .floating-input:invalid:not(:placeholder-shown) {
    border-color: $error-color;
    
    + .floating-label {
      color: $error-color;
      
      .required-star {
        color: $error-color;
      }
    }
  }
  
  // Valid states
  .floating-input:valid:not(:placeholder-shown) {
    border-color: $success-color;
  }
  
  // Special handling for textarea labels
  &:has(textarea) .floating-label {
    top: 22px;
    color: $grey !important;
  }
  
  textarea:focus + .floating-label,
  textarea:not(:placeholder-shown) + .floating-label {
    transform: translateY(-16px) scale(0.85);
    color: $grey !important;
    
    .required-star {
      color: $accent-pink;
    }
  }
}

// Animations
@keyframes slideInRight {
  from { opacity: 0; transform: translate(12px, -50%); }
  to { opacity: 1; transform: translate(8px, -50%); }
}

@keyframes slideInDown {
  from { opacity: 0; transform: translateY(calc(#{$space-xs} - 10px)); }
  to { opacity: 1; transform: translateY($space-xs); }
}


// Contact page form adjustments
#contact-form {
	gap: $space-md; // Reduced gap between form groups
	
	.form-group {
		margin-bottom: $space-sm; // Reduced bottom margin
	}
	
	textarea {
		min-height: 80px; // Reduced textarea height
	}
}

// Catalog page checkbox styling - perfectly round and smaller
#salesStatus {
	width: $checkbox-size;
	height: $checkbox-size;
	min-width: $checkbox-size;
	max-width: $checkbox-size;
	min-height: $checkbox-size;
	max-height: $checkbox-size;
	margin: 0;
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
	border: $checkbox-border-width solid $checkbox-border-color;
	border-radius: 50%;
	background: $checkbox-bg-color;
	cursor: pointer;
	position: relative;
	transition: all $animation-medium $animation-ease;
	flex-shrink: 0;
	box-sizing: border-box;
	aspect-ratio: 1 / 1;
	
	&:checked {
		background: $checkbox-bg-color-checked;
		border-color: $checkbox-bg-color-checked;
		
		&::after {
			content: '';
			position: absolute;
			width: $checkbox-dot-size;
			height: $checkbox-dot-size;
			background: $checkbox-dot-color;
			border-radius: 50%;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}
	}
	
	&:hover {
		border-color: $checkbox-border-color-hover;
		box-shadow: 0 0 0 2px rgba($checkbox-border-color-hover, 0.1);
	}
	
	&:focus {
		outline: 2px solid $checkbox-focus-shadow;
		outline-offset: 2px;
	}
}

