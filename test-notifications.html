<!DOCTYPE html>
<html lang="ua">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å</title>
    <link rel="stylesheet" href="src/css/style.css">
    <style>
        body {
            font-family: 'Montserrat', Arial, sans-serif;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            background: #f5f5f5;
        }
        
        .test-section {
            background: white;
            padding: 2rem;
            margin: 1rem 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .button-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }
        
        .test-button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .test-button.success { background: #27ae60; color: white; }
        .test-button.error { background: #e74c3c; color: white; }
        .test-button.warning { background: #f39c12; color: white; }
        .test-button.info { background: #3498db; color: white; }
        
        .test-button:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        
        .test-form {
            display: grid;
            gap: 1rem;
            max-width: 500px;
        }
        
        .form-group {
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .simulation-results {
            background: #f8f9fa;
            padding: 1rem;
            border-left: 4px solid #007bff;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <h1>üîî –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è</h1>

    <!-- Popup —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è -->
    <div class="test-section">
        <h2>üìù Popup —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</h2>
        <p>–î–µ—Ç–∞–ª—å–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º —Ç–∞ –æ–ø–∏—Å–æ–º</p>
        <div class="button-group">
            <button class="test-button success" onclick="testPopupSuccess()">
                ‚úÖ –£—Å–ø—ñ—Ö
            </button>
            <button class="test-button error" onclick="testPopupError()">
                ‚ùå –ü–æ–º–∏–ª–∫–∞
            </button>
            <button class="test-button warning" onclick="testPopupWarning()">
                ‚ö†Ô∏è –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
            </button>
            <button class="test-button info" onclick="testPopupInfo()">
                ‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
            </button>
        </div>
    </div>

    <!-- Toast —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è -->
    <div class="test-section">
        <h2>üçû Toast —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</h2>
        <p>–ö–æ—Ä–æ—Ç–∫—ñ —à–≤–∏–¥–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–Ω–∏–∑—É –µ–∫—Ä–∞–Ω–∞</p>
        <div class="button-group">
            <button class="test-button success" onclick="testToastSuccess()">
                Toast –£—Å–ø—ñ—Ö
            </button>
            <button class="test-button error" onclick="testToastError()">
                Toast –ü–æ–º–∏–ª–∫–∞
            </button>
            <button class="test-button warning" onclick="testToastWarning()">
                Toast –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
            </button>
            <button class="test-button info" onclick="testToastInfo()">
                Toast –Ü–Ω—Ñ–æ
            </button>
        </div>
    </div>

    <!-- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∫–æ—à–∏–∫–∞ -->
    <div class="test-section">
        <h2>üõí –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∫–æ—à–∏–∫–∞</h2>
        <p>–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –¥—ñ–π –∑ –∫–æ—à–∏–∫–æ–º</p>
        <div class="button-group">
            <button class="test-button success" onclick="testCartAdded()">
                –¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ
            </button>
            <button class="test-button info" onclick="testCartCleared()">
                –ö–æ—à–∏–∫ –æ—á–∏—â–µ–Ω–æ
            </button>
            <button class="test-button success" onclick="testCheckoutSuccess()">
                –£—Å–ø—ñ—à–Ω–∞ –ø–æ–∫—É–ø–∫–∞
            </button>
            <button class="test-button error" onclick="testProductNotFound()">
                –¢–æ–≤–∞—Ä –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
            </button>
        </div>
    </div>

    <!-- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º -->
    <div class="test-section">
        <h2>‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º</h2>
        <p>–î–∏–Ω–∞–º—ñ—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–ª—ñ–≤ –∑ inline —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è–º–∏</p>
        
        <form class="test-form" onsubmit="testFormSubmit(event)">
            <div class="form-group">
                <label for="test-name">–Ü–º'—è:</label>
                <input type="text" id="test-name" name="name" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º'—è">
            </div>
            
            <div class="form-group">
                <label for="test-email">Email:</label>
                <input type="email" id="test-email" name="email" placeholder="example@mail.com">
            </div>
            
            <div class="form-group">
                <label for="test-password">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="test-password" name="password" placeholder="–ú—ñ–Ω—ñ–º—É–º 6 —Å–∏–º–≤–æ–ª—ñ–≤">
            </div>
            
            <div class="form-group">
                <label for="test-message">–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:</label>
                <textarea id="test-message" name="message" rows="4" placeholder="–ú—ñ–Ω—ñ–º—É–º 10 —Å–∏–º–≤–æ–ª—ñ–≤"></textarea>
            </div>
            
            <div class="button-group">
                <button type="button" class="test-button info" onclick="validateAllFields()">
                    –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ –ø–æ–ª—è
                </button>
                <button type="submit" class="test-button success">
                    –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ñ–æ—Ä–º—É
                </button>
                <button type="button" class="test-button warning" onclick="clearAllValidation()">
                    –û—á–∏—Å—Ç–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é
                </button>
            </div>
        </form>
    </div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Å–∏–º—É–ª—è—Ü—ñ—ó -->
    <div class="test-section">
        <h2>üìä –°–∏–º—É–ª—è—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤</h2>
        <div class="button-group">
            <button class="test-button info" onclick="simulateShoppingFlow()">
                üõçÔ∏è –ü–æ–∫—É–ø–∫–∏
            </button>
            <button class="test-button warning" onclick="simulateFormErrors()">
                üìù –ü–æ–º–∏–ª–∫–∏ —Ñ–æ—Ä–º
            </button>
            <button class="test-button success" onclick="simulateSuccessFlow()">
                ‚ú® –£—Å–ø—ñ—à–Ω–∏–π –ø—Ä–æ—Ü–µ—Å
            </button>
        </div>
        <div id="simulation-log" class="simulation-results" style="display: none;">
            <h4>–õ–æ–≥ —Å–∏–º—É–ª—è—Ü—ñ—ó:</h4>
            <ul id="log-list"></ul>
        </div>
    </div>

    <script type="module">
        import notificationManager from './src/js/notifications.js';
        
        // –†–æ–±–∏–º–æ –¥–æ—Å—Ç—É–ø–Ω–∏–º –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
        window.notificationManager = notificationManager;
        
        // Popup —Ç–µ—Å—Ç–∏
        window.testPopupSuccess = () => {
            notificationManager.showPopup('success', '–û–ø–µ—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!', '–í–∞—à—ñ –¥–∞–Ω—ñ –±—É–ª–æ –∑–±–µ—Ä–µ–∂–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ.');
        };
        
        window.testPopupError = () => {
            notificationManager.showPopup('error', '–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞!', '–ù–µ –≤–¥–∞–ª–æ—Å—è –æ–±—Ä–æ–±–∏—Ç–∏ –≤–∞—à –∑–∞–ø–∏—Ç. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.');
        };
        
        window.testPopupWarning = () => {
            notificationManager.showPopup('warning', '–£–≤–∞–≥–∞!', '–¶—è –¥—ñ—è –º–æ–∂–µ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö.');
        };
        
        window.testPopupInfo = () => {
            notificationManager.showPopup('info', '–ö–æ—Ä–∏—Å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è', '–í–∏ –º–æ–∂–µ—Ç–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è –∫–ª–∞–≤—ñ—à–æ—é Escape –¥–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è.');
        };
        
        // Toast —Ç–µ—Å—Ç–∏
        window.testToastSuccess = () => {
            notificationManager.showToast('success', '–î–∞–Ω—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!');
        };
        
        window.testToastError = () => {
            notificationManager.showToast('error', '–ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
        };
        
        window.testToastWarning = () => {
            notificationManager.showToast('warning', '–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–≤–µ–¥–µ–Ω—ñ –¥–∞–Ω—ñ');
        };
        
        window.testToastInfo = () => {
            notificationManager.showToast('info', '–ù–æ–≤–∞ –≤–µ—Ä—Å—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞');
        };
        
        // –¢–µ—Å—Ç–∏ –∫–æ—à–∏–∫–∞
        window.testCartAdded = () => {
            notificationManager.showCartNotification('product-added', '–°–º–∞—Ä—Ç—Ñ–æ–Ω iPhone 15 Pro');
        };
        
        window.testCartCleared = () => {
            notificationManager.showCartNotification('cart-cleared');
        };
        
        window.testCheckoutSuccess = () => {
            notificationManager.showCartNotification('checkout-success');
        };
        
        window.testProductNotFound = () => {
            notificationManager.showCartNotification('product-not-found');
        };
        
        // –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º
        function setupFormValidation() {
            const nameField = document.getElementById('test-name');
            const emailField = document.getElementById('test-email');
            const passwordField = document.getElementById('test-password');
            const messageField = document.getElementById('test-message');
            
            // –í–∞–ª—ñ–¥–∞—Ü—ñ—è —ñ–º–µ–Ω—ñ
            nameField.addEventListener('blur', () => {
                const value = nameField.value.trim();
                if (!value) {
                    notificationManager.showFormValidation(nameField, false, '–Ü–º\'—è –æ–±–æ–≤\'—è–∑–∫–æ–≤–µ');
                } else if (value.length < 2) {
                    notificationManager.showFormValidation(nameField, false, '–ú—ñ–Ω—ñ–º—É–º 2 —Å–∏–º–≤–æ–ª–∏');
                } else if (!/^[a-zA-Z–ê-–Ø–∞-—è\s''`-]+$/u.test(value)) {
                    notificationManager.showFormValidation(nameField, false, '–¢—ñ–ª—å–∫–∏ –ª—ñ—Ç–µ—Ä–∏ —Ç–∞ –ø—Ä–æ–±—ñ–ª–∏');
                } else {
                    notificationManager.showFormValidation(nameField, true);
                }
            });
            
            // –í–∞–ª—ñ–¥–∞—Ü—ñ—è email
            emailField.addEventListener('blur', () => {
                const value = emailField.value.trim();
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!value) {
                    notificationManager.showFormValidation(emailField, false, 'Email –æ–±–æ–≤\'—è–∑–∫–æ–≤–∏–π');
                } else if (!emailRegex.test(value)) {
                    notificationManager.showFormValidation(emailField, false, '–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π email');
                } else {
                    notificationManager.showFormValidation(emailField, true);
                }
            });
            
            // –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–∞—Ä–æ–ª—é
            passwordField.addEventListener('blur', () => {
                const value = passwordField.value.trim();
                if (!value) {
                    notificationManager.showFormValidation(passwordField, false, '–ü–∞—Ä–æ–ª—å –æ–±–æ–≤\'—è–∑–∫–æ–≤–∏–π');
                } else if (value.length < 6) {
                    notificationManager.showFormValidation(passwordField, false, '–ú—ñ–Ω—ñ–º—É–º 6 —Å–∏–º–≤–æ–ª—ñ–≤');
                } else if (!/(?=.*[a-zA-Z])(?=.*\d)/.test(value)) {
                    notificationManager.showFormValidation(passwordField, false, '–ü–æ—Ç—Ä—ñ–±–Ω—ñ –ª—ñ—Ç–µ—Ä–∏ —Ç–∞ —Ü–∏—Ñ—Ä–∏');
                } else {
                    notificationManager.showFormValidation(passwordField, true);
                }
            });
            
            // –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
            messageField.addEventListener('blur', () => {
                const value = messageField.value.trim();
                if (!value) {
                    notificationManager.showFormValidation(messageField, false, '–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –æ–±–æ–≤\'—è–∑–∫–æ–≤–µ');
                } else if (value.length < 10) {
                    notificationManager.showFormValidation(messageField, false, '–ú—ñ–Ω—ñ–º—É–º 10 —Å–∏–º–≤–æ–ª—ñ–≤');
                } else if (value.length > 500) {
                    notificationManager.showFormValidation(messageField, false, '–ú–∞–∫—Å–∏–º—É–º 500 —Å–∏–º–≤–æ–ª—ñ–≤');
                } else {
                    notificationManager.showFormValidation(messageField, true);
                }
            });
        }
        
        window.validateAllFields = () => {
            // –°–∏–º—É–ª—é—î–º–æ blur –¥–ª—è –≤—Å—ñ—Ö –ø–æ–ª—ñ–≤
            document.querySelectorAll('.test-form input, .test-form textarea').forEach(field => {
                field.blur();
                field.dispatchEvent(new Event('blur'));
            });
        };
        
        window.clearAllValidation = () => {
            document.querySelectorAll('.test-form input, .test-form textarea').forEach(field => {
                notificationManager.hideInlineNotification(field);
                field.classList.remove('error', 'valid');
            });
        };
        
        window.testFormSubmit = (event) => {
            event.preventDefault();
            notificationManager.showPopup('success', '–§–æ—Ä–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞!', '–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è. –ú–∏ –∑–≤\'—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.');
            event.target.reset();
            clearAllValidation();
        };
        
        // –°–∏–º—É–ª—è—Ü—ñ—ó
        function logStep(message) {
            const logList = document.getElementById('log-list');
            const logItem = document.createElement('li');
            logItem.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
            logList.appendChild(logItem);
            document.getElementById('simulation-log').style.display = 'block';
        }
        
        window.simulateShoppingFlow = async () => {
            document.getElementById('log-list').innerHTML = '';
            
            logStep('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —Ç–æ–≤–∞—Ä–∏...');
            await new Promise(r => setTimeout(r, 1000));
            
            logStep('–î–æ–¥–∞—î —Ç–æ–≤–∞—Ä –≤ –∫–æ—à–∏–∫');
            notificationManager.showCartNotification('product-added', '–ù–æ—É—Ç–±—É–∫ MacBook Pro');
            await new Promise(r => setTimeout(r, 2000));
            
            logStep('–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –∫–æ—à–∏–∫–∞');
            await new Promise(r => setTimeout(r, 1000));
            
            logStep('–û—Ñ–æ—Ä–º–ª—é—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è');
            notificationManager.showCartNotification('checkout-success');
            logStep('–ü–æ–∫—É–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø—ñ—à–Ω–æ!');
        };
        
        window.simulateFormErrors = async () => {
            document.getElementById('log-list').innerHTML = '';
            
            logStep('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–æ–≤–Ω—é—î —Ñ–æ—Ä–º—É...');
            const nameField = document.getElementById('test-name');
            const emailField = document.getElementById('test-email');
            
            await new Promise(r => setTimeout(r, 1000));
            
            logStep('–í–≤–æ–¥–∏—Ç—å –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ —ñ–º\'—è');
            nameField.value = 'A';
            notificationManager.showFormValidation(nameField, false, '–ú—ñ–Ω—ñ–º—É–º 2 —Å–∏–º–≤–æ–ª–∏');
            
            await new Promise(r => setTimeout(r, 1500));
            
            logStep('–í–≤–æ–¥–∏—Ç—å –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π email');
            emailField.value = 'invalid-email';
            notificationManager.showFormValidation(emailField, false, '–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π email');
            
            await new Promise(r => setTimeout(r, 1500));
            
            logStep('–í–∏–ø—Ä–∞–≤–ª—è—î –ø–æ–º–∏–ª–∫–∏');
            nameField.value = '–û–ª–µ–∫—Å–∞–Ω–¥—Ä';
            emailField.value = 'alex@example.com';
            notificationManager.showFormValidation(nameField, true);
            notificationManager.showFormValidation(emailField, true);
            
            logStep('–§–æ—Ä–º–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!');
        };
        
        window.simulateSuccessFlow = async () => {
            document.getElementById('log-list').innerHTML = '';
            
            logStep('–ó–∞–ø—É—Å–∫ —É—Å–ø—ñ—à–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É...');
            await new Promise(r => setTimeout(r, 500));
            
            notificationManager.showToast('info', '–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Å–µ—Ä–≤–µ—Ä—É...');
            logStep('–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Å–µ—Ä–≤–µ—Ä—É');
            await new Promise(r => setTimeout(r, 1500));
            
            notificationManager.showToast('success', '–î–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ');
            logStep('–£—Å–ø—ñ—à–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö');
            await new Promise(r => setTimeout(r, 1500));
            
            notificationManager.showPopup('success', '–ü—Ä–æ—Ü–µ—Å –∑–∞–≤–µ—Ä—à–µ–Ω–æ!', '–í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ.');
            logStep('–ü—Ä–æ—Ü–µ—Å –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!');
        };
        
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        document.addEventListener('DOMContentLoaded', () => {
            setupFormValidation();
            console.log('üîî –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ —Ä–æ–±–æ—Ç–∏!');
        });
    </script>
</body>
</html>